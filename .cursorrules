# ReguÅ‚y kodowania dla projektu Link

# Styl kodu
- UÅ¼ywaj TypeScript dla wszystkich plikÃ³w
- Preferuj funkcje strzaÅ‚kowe dla komponentÃ³w React
- UÅ¼ywaj interfejsÃ³w zamiast typÃ³w dla obiektÃ³w
- Unikaj klas, preferuj podejÅ›cie funkcyjne
- UÅ¼ywaj absolutnych importÃ³w (@/...)
- UÅ¼ywaj explicit return types dla wszystkich funkcji

# Nazewnictwo
- PascalCase dla komponentÃ³w React (np. VideoCard.tsx)
- camelCase dla plikÃ³w utility (np. youtube.ts)
- camelCase dla zmiennych i funkcji
- UÅ¼ywaj opisowych nazw zmiennych z czasownikami pomocniczymi (np. isLoading, hasError)

# Struktura komponentÃ³w
- KaÅ¼dy komponent w osobnym pliku
- Eksportuj komponenty jako default export
- Definiuj interfejsy props na poczÄ…tku pliku
- UÅ¼ywaj destrukturyzacji dla props

# Tailwind CSS
- UÅ¼ywaj klas Tailwind zamiast inline styles
- Grupuj klasy wedÅ‚ug kategorii (layout, spacing, colors, etc.)
- UÅ¼ywaj zmiennych dla powtarzajÄ…cych siÄ™ wartoÅ›ci

# TypeScript
- UÅ¼ywaj strict mode
- Definiuj typy dla wszystkich zmiennych
- Unikaj any, preferuj unknown
- UÅ¼ywaj union types zamiast enum

# ObsÅ‚uga bÅ‚Ä™dÃ³w
- UÅ¼ywaj try/catch dla operacji asynchronicznych
- Loguj bÅ‚Ä™dy do konsoli
- WyÅ›wietlaj przyjazne komunikaty bÅ‚Ä™dÃ³w dla uÅ¼ytkownika

# Formatowanie
- UÅ¼ywaj 2 spacji do wciÄ™Ä‡
- UÅ¼ywaj Å›rednikÃ³w na koÅ„cu linii
- Maksymalna dÅ‚ugoÅ›Ä‡ linii: 100 znakÃ³w
- UÅ¼ywaj pojedynczych cudzysÅ‚owÃ³w dla stringÃ³w

# Komentarze
- UÅ¼ywaj JSDoc dla funkcji i komponentÃ³w
- Komentuj skomplikowanÄ… logikÄ™
- Unikaj zbÄ™dnych komentarzy

# Importy
- Grupuj importy wedÅ‚ug kategorii (React, komponenty, utils, etc.)
- Sortuj importy alfabetycznie w kaÅ¼dej kategorii

# Testy
- Pisz testy dla wszystkich komponentÃ³w i funkcji
- UÅ¼ywaj Jest i React Testing Library
- Testuj edge cases

# Git
- UÅ¼ywaj konwencji Conventional Commits
- Pisz opisowe komunikaty commitÃ³w
- UÅ¼ywaj feature branches

# Docker
- UÅ¼ywaj multi-stage builds
- Minimalizuj rozmiar obrazÃ³w
- UÅ¼ywaj named volumes dla danych persystentnych

# Cursor Rules - Zasady i Napotkane BÅ‚Ä™dy

## ğŸš« BÅ‚Ä™dy do Unikania

### 1. Kodowanie ZnakÃ³w w PowerShell
- âŒ Problem: UÅ¼ycie polskich znakÃ³w w stringach PowerShell powoduje bÅ‚Ä™dy wyÅ›wietlania
- âŒ PrzykÅ‚ady bÅ‚Ä™dnych znakÃ³w:
  - Ä…, Ä™, Ä‡, Å‚, Å„, Ã³, Å›, Åº, Å¼
  - cudzysÅ‚owy typograficzne (" ")
  - myÅ›lniki em/en (â€“ â€”)
  - wielokropek (â€¦)
- âœ… RozwiÄ…zanie: 
  - UÅ¼ywaÄ‡ tylko znakÃ³w ASCII w stringach
  - Zamiast polskich znakÃ³w uÅ¼ywaÄ‡ ich odpowiednikÃ³w ASCII:
    - 'a' zamiast 'Ä…'
    - 'e' zamiast 'Ä™'
    - 'c' zamiast 'Ä‡'
    - 'l' zamiast 'Å‚'
    - 'n' zamiast 'Å„'
    - 'o' zamiast 'Ã³'
    - 's' zamiast 'Å›'
    - 'z' zamiast 'Åº' lub 'Å¼'
  - UÅ¼ywaÄ‡ standardowych cudzysÅ‚owÃ³w (")
  - UÅ¼ywaÄ‡ standardowego myÅ›lnika (-)
  - UÅ¼ywaÄ‡ trzech kropek (...)
  - DodaÄ‡ na poczÄ…tku skryptu konfiguracjÄ™ UTF-8:
    ```powershell
    $PSDefaultParameterValues['*:Encoding'] = 'utf8'
    [Console]::OutputEncoding = [System.Text.Encoding]::UTF8
    $OutputEncoding = [System.Text.Encoding]::UTF8
    ```

### 2. Formatowanie KomunikatÃ³w PowerShell
- âŒ UnikaÄ‡:
  - ZnakÃ³w specjalnych w kluczach hash table
  - ZnakÃ³w formatujÄ…cych w stringach bez escape (\n, \t, etc.)
  - ZnakÃ³w Unicode w nazwach zmiennych i funkcji
- âœ… StosowaÄ‡:
  - Tylko litery ASCII (a-z, A-Z) w kluczach
  - Escape sequence dla znakÃ³w specjalnych
  - CamelCase dla nazw bez znakÃ³w specjalnych

### 3. Powtarzanie Nieudanych PrÃ³b
- âŒ Problem: Powtarzanie tej samej metody naprawy, ktÃ³ra juÅ¼ nie zadziaÅ‚aÅ‚a
- âœ… RozwiÄ…zanie:
  - JeÅ›li prÃ³ba naprawy nie powiodÅ‚a siÄ™, szukaÄ‡ innego rozwiÄ…zania
  - Nie powtarzaÄ‡ tej samej metody naprawy
  - DokumentowaÄ‡ nieudane prÃ³by, aby uniknÄ…Ä‡ ich powtarzania
  - SzukaÄ‡ alternatywnych podejÅ›Ä‡ do problemu
  - AnalizowaÄ‡ przyczynÄ™ niepowodzenia przed kolejnÄ… prÃ³bÄ…

### 4. PrzykÅ‚ady Poprawnego Formatowania
```powershell
# âŒ Å¹le:
$Messages = @{
    "Start DziaÅ‚ania..." = "Rozpoczynam zadanie"
    "BÅ‚Ä…d" = "WystÄ…piÅ‚ bÅ‚Ä…d"
}

# âœ… Dobrze:
$Messages = @{
    StartAction = "Rozpoczynam zadanie"
    Error = "Wystapil blad"
}

# âŒ Å¹le:
Write-Host "Operacja zakoÅ„czona âœ“"

# âœ… Dobrze:
Write-Host "Operacja zakonczona [OK]"
```

### 5. Duplikaty Kluczy w Hash Tables
- âŒ Problem: UÅ¼ycie tego samego klucza wielokrotnie w hash table PowerShell
- âœ… RozwiÄ…zanie:
  - SprawdzaÄ‡ unikalne nazwy kluczy
  - UÅ¼ywaÄ‡ opisowych nazw unikajÄ…cych konfliktÃ³w (np. ProcessError -> ProcessCheckError, ProcessStopError)

### 6. Uprawnienia SkryptÃ³w
- âŒ Problem: Uruchamianie skryptÃ³w bez sprawdzenia uprawnieÅ„
- âœ… RozwiÄ…zanie:
  - Zawsze dodawaÄ‡ sprawdzenie uprawnieÅ„ administratora
  - InformowaÄ‡ uÅ¼ytkownika o wymaganych uprawnieniach
  - UÅ¼ywaÄ‡ Test-AdminRights przed wykonaniem operacji wymagajÄ…cych podwyÅ¼szonych uprawnieÅ„

### 7. Kodowanie PlikÃ³w w Node.js na Windows
- âŒ Problem: Niepoprawne kodowanie plikÃ³w powoduje bÅ‚Ä™dy typu "Unexpected ''"
- âœ… RozwiÄ…zanie:
  - UÅ¼ywaÄ‡ edytora z wykrywaniem kodowania (VS Code, Cursor)
  - ZapisywaÄ‡ wszystkie pliki w UTF-8 bez BOM
  - DodaÄ‡ do package.json:
    ```json
    {
      "scripts": {
        "prestart": "chcp 65001"
      }
    }
    ```
  - W skryptach Node.js dodaÄ‡:
    ```javascript
    process.stdin.setEncoding('utf8');
    process.stdout.setEncoding('utf8');
    ```
  - SprawdzaÄ‡ kodowanie plikÃ³w przed uruchomieniem:
    ```powershell
    Get-Content -Path .\plik.js -Encoding UTF8
    ```

## ğŸ“ Zasady OgÃ³lne

### PowerShell
1. Zawsze uÅ¼ywaÄ‡ obsÅ‚ugi bÅ‚Ä™dÃ³w (try-catch)
2. DodawaÄ‡ komentarze do funkcji i zÅ‚oÅ¼onej logiki
3. UÅ¼ywaÄ‡ znaczÄ…cych nazw zmiennych i funkcji
4. StosowaÄ‡ jednolity styl formatowania
5. TestowaÄ‡ skrypty przed commitowaniem

### TypeScript/JavaScript
1. UÅ¼ywaÄ‡ TypeScript dla wszystkich nowych plikÃ³w
2. DefiniowaÄ‡ typy dla wszystkich zmiennych
3. UÅ¼ywaÄ‡ interfejsÃ³w zamiast typÃ³w dla obiektÃ³w
4. StosowaÄ‡ ESLint i Prettier

### React
1. UÅ¼ywaÄ‡ funkcyjnych komponentÃ³w
2. ImplementowaÄ‡ lazy loading dla duÅ¼ych komponentÃ³w
3. OptymalizowaÄ‡ re-rendery
4. UnikaÄ‡ nadmiernego zagnieÅ¼dÅ¼ania komponentÃ³w

### Git
1. UÅ¼ywaÄ‡ znaczÄ…cych nazw commitÃ³w
2. TworzyÄ‡ osobne branche dla nowych funkcjonalnoÅ›ci
3. Regularnie synchronizowaÄ‡ z gÅ‚Ã³wnym branchem
4. Code review przed mergem

## ğŸ”„ Proces Rozwoju
1. Zawsze testowaÄ‡ zmiany lokalnie przed commitem
2. DokumentowaÄ‡ napotkane problemy i rozwiÄ…zania
3. AktualizowaÄ‡ Memory Bank po kaÅ¼dej wiÄ™kszej zmianie
4. PrzestrzegaÄ‡ kolejnoÅ›ci zadaÅ„ z tasks.md 

# Baza Danych (MariaDB 10)
- UÅ¼ywaj typÃ³w zgodnych z MariaDB 10:
  - varchar(128) dla ID (UUID)
  - varchar z okreÅ›lonÄ… dÅ‚ugoÅ›ciÄ… dla krÃ³tkich tekstÃ³w
  - text dla dÅ‚ugich tekstÃ³w
  - timestamp dla dat
  - enum dla statusÃ³w
  - int dla liczb caÅ‚kowitych
  - boolean dla wartoÅ›ci logicznych
- UÅ¼ywaj InnoDB jako silnika bazy danych
- Stosuj kodowanie UTF8MB4 i collation utf8mb4_unicode_ci
- Definiuj klucze obce dla relacji miÄ™dzy tabelami
- UÅ¼ywaj indeksÃ³w dla czÄ™sto wyszukiwanych kolumn
- Dodawaj DEFAULT CURRENT_TIMESTAMP dla created_at
- Dodawaj ON UPDATE CURRENT_TIMESTAMP dla updated_at
- Unikaj przechowywania duÅ¼ych BLOBÃ³w w bazie
- Waliduj dane przed zapisem do bazy
- UÅ¼ywaj transakcji dla operacji wielotabelowych

# Drizzle ORM
- Definiuj schematy w osobnych plikach
- UÅ¼ywaj typÃ³w z mysql-core zamiast pg-core
- Stosuj konwencjÄ™ nazewniczÄ… snake_case dla kolumn
- Definiuj relacje miÄ™dzy tabelami
- UÅ¼ywaj migracji dla zmian w schemacie
- Testuj zapytania przed wdroÅ¼eniem 
- Nie mieszaj mysql-core i pg-core w tym samym pliku
- Definiuj jeden schemat tabeli na plik dla uÅ‚atwienia migracji
- UÅ¼ywaj index.ts do eksportu wszystkich schematÃ³w 